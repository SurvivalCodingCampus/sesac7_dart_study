# DataSource

## DataSource란?
원천 데이터를 말한다.

지금까지 사용했던 json이나 텍스트, 파일 등도 모두 DataSource에 해당한다.

## factory 생성자
- 생성자 실행 시 런타임에 특정 조작('{ }' 브라켓)을 할 수 있도록 허용한다.

- <b>항상 하나의 클래스에서 하나의 인스턴스만을 만들지 않으므로, Singleton과는 관련이 없다.</b>

- 새로운 인스턴스를 만들지, 혹은 런타임에 조작을 해서 본인이 원하는 인스턴스를 뱉을지 결정할 때 사용된다.
```dart
class Person {
    String name;

    // 일반 생성자는 {} 브라켓에서 특정 조작 후 리턴이 불가능하다.
    Person(String name) : this.name = name;

    // 그러나 factory 생성자에서는 {} 브라켓에서 특정 조작 후 리턴이 가능하다.
    // 새로운 인스턴스를 생성하거나, 혹은 기존 인스턴스를 가져와 리턴할 수도 있다.
    factory Person(String name) {
        return Person._internal(name);
    }

    Person._internal(String name) : this.name = name;
}
```

## DataSource 작명
- 데이터를 사용하기 좋은 형태로 가공하는 방법(메소드)을 제공하는 인터페이스를 만들고, 그것의 구현체를 생성하여 구체적인 로직을 구현한다.

- 구현체가 하나일 경우 인터페이스 이름 뒤에 Impl을 붙여 표현하기도 한다.

## 배운 점
#### 1. 클래스 내에서 Map과 같은 자료구조의 레퍼런스를 getter로 제공했을 때, setter를 제공하지 않아도 자료구조 내의 필드에 접근하는 것을 막을 수 없어서 보안 측면에서 취약점이라고 했다. 그럼 클래스의 레퍼런스에도 동일하게 작용하나?
그렇다. 클래스도 동일하게 필드에 접근이 가능해 문제가 된다. 그렇지만 주어진 레퍼런스에 연결된 모든 클래스들이 캡슐화가 되어있다면 비교적 덜 위험하다고 볼 수 있다.

#### 2. 객체지향 프로그래밍에서는 불변을 기반으로 코드를 작성하므로, 크게 변하지 않는 모든 필드들은 final 선언을 해놓고, 상태가 변해야하는 상황이 오면 copyWith 등을 통해 객체를 복사 - 붙여넣기하는 방식으로 변화를 준다고 한다.