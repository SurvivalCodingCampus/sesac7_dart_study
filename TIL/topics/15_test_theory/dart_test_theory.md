# Test 이론

### 테스트를 통한 품질 향상

- 수동 테스트: 인간이 하는 테스트 (print)
- 단위 테스트: 1개의 함수를 테스트 (test 코드)
- 통합 테스트: 여러개 연관된 클래스나 함수를 함께 테스트 (UI test, Integration test)

## 테스트 방법론

### 화이트 박스 테스트

- 내부 흐름을 신경 쓰는 테스트

### 블랙박스 테스트

- 내부 구조를 무시하고 기능을 테스트하는 방법 (입출력만 봄)

## Unit Test (단위 테스트)

- 특정 모듈이 의도한 대로 잘 작동하는가를 테스트하는 가장 작은 단위의 테스트
- 모듈 = 메서드, 기능

## 테스트의 장정

- 장애에 관한 **신속한 피드백**
- 개발 주기에서 **조기 장애 감지**
- 회귀에 신경 쓸 필요 없이 코드를 최적화 할 수 있도록 하는 **더 안전한 코드 리팩토링**
- 기술적 문제를 최소화하는 **안정적인 개발 속도 ( 테스트를 하면서 개발하면 매우 느림)**

### 테스트 케이스

- 가능한 모든 가능성의 범위를 테스트하는 것이 좋은 케이스이다
    - 동등 분할 (적당한 값)
    - 경계값 분석
    - 등의 기법이 있음

## 단위(Unit) 테스트가 꼭 필요한 경우

- DB
    - 스키마가 변경되는 경우
    - 모델 클래스가 변경되는 경우
- Network
    - 네트워크 연결이 정상적인 경우
    - 네트워크 연결이 안 되었을 때
- 데이터 검증
    - 예측한 데이터를 제대로 처리하고 있는지
    - 잘못된 데이터가 들어올 경우

## TDD (Test Driven Development)

- 테스트가 성공하도록 코드를 수정
- 테스트 중심으로 개발하는 방법론

## Test Double

- 테스트를 진행하기 어려운 경우에 테스트가 가능하도록 만들어주는 객체
- ⇒ 영화 촬영 시 위험한 역할을 대신하는 스턴트 더블에서 비롯되었다

### Mock 객체 활용

- 때때로 단위 테스트는 **라이브 웹 서비스 또는 DB**에서 데이터를 가져오는 클래스에 의존 할 수 있다

클래스 간에 사용을 할 때는 생성자 주입을 기본으로 생각하자

핵심은 인터페이스를 잘 쓰자